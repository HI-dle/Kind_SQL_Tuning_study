# ì¸ë±ìŠ¤ íŠœë‹

---

# 3.1.5 ì¸ë±ìŠ¤ë§Œ ì½ê³  ì²˜ë¦¬

### ì¸ë±ìŠ¤: [ë¶€ì„œë²ˆí˜¸]
```sql
SELECT ë¶€ì„œë²ˆí˜¸, SUM(ìˆ˜ëŸ‰)
  FROM íŒë§¤ì§‘ê³„
 WHERE ë¶€ì„œë²ˆí˜¸ LIKE '12%'
 GROUP BY ë¶€ì„œë²ˆí˜¸;
```

ìœ„ ì¿¼ë¦¬ëŠ” `LIKE` ì¡°ê±´ì— í•´ë‹¹í•˜ëŠ” ë°ì´í„°ë“¤ì„ ì§‘ê³„í•˜ëŠ” ì¿¼ë¦¬ì´ë‹¤.

- ì¦‰, `LIKE` ì¡°ê±´ì— í•´ë‹¹í•˜ëŠ” ë°ì´í„°ë¥¼ ì°¾ê³  í…Œì´ë¸”ì„ ì•¡ì„¸ìŠ¤í•œ ë’¤ì— ë²„ë¦¬ëŠ” ë°ì´í„°ê°€ í•˜ë‚˜ë„ ì—†ë‹¤.
  - í•„í„° ì¡°ê±´ì— ì˜í•´ ë²„ë ¤ì§€ëŠ” ì—†ê¸° ë•Œë¬¸ì— ë¹„íš¨ìœ¨ì€ ì—†ë‹¤ê³  í•  ìˆ˜ ìˆë‹¤.
  - ì„±ëŠ¥ì´ ëŠë¦° ì´ìœ ëŠ” ë‹¨ì§€ ì¸ë±ìŠ¤ ìŠ¤ìº” ê³¼ì •ì—ì„œ ì–»ì€ ë°ì´í„°ê°€ ë§ê¸° ë•Œë¬¸ì— ì¼(ì§‘ê³„)ì´ ì¦ê°€í–ˆê¸° ë•Œë¬¸

### Q: ì´ëŸ° ê²½ìš°ëŠ” ì–´ë–»ê²Œ íŠœë‹í•  ìˆ˜ ìˆì„ê¹Œ?
A: ì„±ëŠ¥ì„ ê°œì„ í•´ì•¼í•œë‹¤ë©´, `ì¿¼ë¦¬ì— ì‚¬ìš©ëœ ì»¬ëŸ¼ì„ ëª¨ë‘ ì¸ë±ìŠ¤ì— ì¶”ê°€`í•´ì„œ `í…Œì´ë¸” ì•¡ì„¸ìŠ¤ê°€ ì•„ì˜ˆ ë°œìƒí•˜ì§€ ì•Šê²Œ í•˜ëŠ” ë°©ë²•`ì„ ê³ ë ¤í•´ë³¼ ìˆ˜ ìˆë‹¤.
- ì´ëŠ” ì¸ë±ìŠ¤ë§Œ ì½ì–´ì„œ ì²˜ë¦¬í•˜ëŠ” ì¿¼ë¦¬ë¡œ `Covered ì¿¼ë¦¬`ë¼ê³  ë¶€ë¥´ë©°, ì¿¼ë¦¬ì— ì‚¬ìš©í•œ ì¸ë±ìŠ¤ëŠ” `Covered ì¸ë±ìŠ¤`ë¼ê³  í•œë‹¤.

`[ë¶€ì„œë²ˆí˜¸]` ë‹¨ì¼ ì»¬ëŸ¼ìœ¼ë¡œ êµ¬ì„±ëœ ìœ„ ì˜ˆì‹œ ê°™ì€ ê²½ìš° `[ìˆ˜ëŸ‰]` ì»¬ëŸ¼ë§Œ ë” ì¶”ê°€í•˜ë©´ ëœë‹¤.

- ì´ ë°©ë²•ì€ íš¨ê³¼ëŠ” ë§¤ìš° ì¢‹ì§€ë§Œ, ì¶”ê°€í•´ì•¼ í•  ì»¬ëŸ¼ì´ ë§ìœ¼ë©´ ì‹¤ì œë¡œ ì ìš©í•˜ê¸´ ì–´ë µë‹¤.

---
## include ì¸ë±ìŠ¤
> SQL Server, PostgreSQLì—ëŠ” ì¡´ì¬, Oracleì—ëŠ” ì—†ìŒ

### ì •ì˜
ì¸ë±ìŠ¤ í‚¤ ì™¸ì— ë¯¸ë¦¬ ì§€ì •í•œ ì»¬ëŸ¼ì„ ë¦¬í”„ ë ˆë²¨ì— í•¨ê»˜ ì €ì¥í•˜ëŠ” ê¸°ëŠ¥

### ì‚¬ìš©ë°©ë²•
ì•„ë˜ì™€ ê°™ì´ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•  ë•Œ include ì˜µì…˜ì„ ì§€ì •í•˜ë©´ ëœë‹¤.
```sql
create index emp_x01 on emp (deptno) include (sal)
```

### ë¹„êµ
```sql
-- include ì¸ë±ìŠ¤ ìƒì„±
create index emp_x01 on emp (deptno) include (sal)

-- ì¼ë°˜ì ì¸ ì¸ë±ìŠ¤ ìƒì„±
create index emp_x02 on emp(deptno, sal)
```
- ì¼ë°˜ì ì¸ ì¸ë±ìŠ¤
  - `deptno, sal` ì»¬ëŸ¼ ëª¨ë‘ ë£¨íŠ¸ì™€ ë¸Œëœì¹˜ ë¸”ë¡ì— ì €ì¥
  - ë‘˜ ë‹¤ ìˆ˜ì§ì  íƒìƒ‰ì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

- include ì¸ë±ìŠ¤
  - `sal` ì»¬ëŸ¼ì„ ë¦¬í”„ ë¸”ë¡ì—ë§Œ ì €ì¥
  - ìˆ˜ì§ì  íƒìƒ‰ì—ëŠ” `deptno`ë§Œ ì‚¬ìš©í•˜ê³ , ìˆ˜í‰ì  íƒìƒ‰ì—ëŠ” `sal` ì»¬ëŸ¼ë„ í•„í„° ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
    - ì¦‰, `sal` ì»¬ëŸ¼ì€ í…Œì´ë¸” ëœë¤ ì•¡ì„¸ìŠ¤ íšŸìˆ˜ë¥¼ ì¤„ì´ëŠ” ìš©ë„ë¡œë§Œ ì‚¬ìš©

```sql
select sal from emp where deptno = 20

-- ìœ„ SQLì„ ì²˜ë¦¬í•  ë•ŒëŠ” 
-- ë‘ ì¸ë±ìŠ¤ ëª¨ë‘ `Covered ì¸ë±ìŠ¤`ì´ë¯€ë¡œ í…Œì´ë¸” ëœë¤ ì•¡ì„¸ìŠ¤ë¥¼ ìƒëµí•  ìˆ˜ ìˆë‹¤.
```

```sql
select * from emp where deptno = 20 sal >= 2000

select * from emp where deptno = 20 sal <= 3000

select * from emp where deptno = 20 sal between 2000 and 3000
                  
-- ìœ„ SQLì„ ì²˜ë¦¬í•  ë•ŒëŠ”
-- í…Œì´ë¸” ëœë¤ ì•¡ì„¸ìŠ¤ ì¸¡ë©´ì—ì„œëŠ” ì¼ëŸ‰ì´ ë˜‘ê°™ë‹¤.
-- í•˜ì§€ë§Œ include ì¸ë±ìŠ¤ì˜ ê²½ìš° salë¡œëŠ” ì •ë ¬ì´ ì•ˆë˜ì–´ìˆê¸° ë•Œë¬¸ì— ì¸ë±ìŠ¤ ìŠ¤ìº”ëŸ‰ì´ ë” ë§ë‹¤.
```

```sql
select * from emp where deptno = 20 order by sal

-- ë³µí•©ì¸ë±ìŠ¤ì˜ ê²½ìš° SORT ì—°ì‚°ì„ ìƒëµí•  ìˆ˜ ìˆì§€ë§Œ,
-- include ì¸ë±ìŠ¤ëŠ” SORT ì—°ì‚°ì„ ìƒëµí•  ìˆ˜ ì—†ë‹¤.
```

# 3.1.6 ì¸ë±ìŠ¤ êµ¬ì¡° í…Œì´ë¸”
ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•œ í…Œì´ë¸” ì•¡ì„¸ìŠ¤ê°€ ê³ ë¹„ìš© êµ¬ì¡°ë¼ê³  í•˜ë‹ˆ, ëœë¤ ì•¡ì„¸ìŠ¤ê°€ ì•„ì˜ˆ ë°œìƒí•˜ì§€ ì•Šë„ë¡ `í…Œì´ë¸”ì„ ì¸ë±ìŠ¤ êµ¬ì¡°ë¡œ ìƒì„±í•˜ë©´ ì–´ë–¨ê¹Œ?`

- ì‹¤ì œë¡œ ì œê³µë˜ëŠ” ë°©ë²•
  - ì˜¤ë¼í´: `IOT(Index-Organized Table)`
  - MS-SQL: `í´ëŸ¬ìŠ¤í„°í˜• ì¸ë±ìŠ¤(Clustered Index)`

![ê·¸ë¦¼_3-11.png](image%2F%EA%B7%B8%EB%A6%BC_3-11.png)

## 1. ì¸ë±ìŠ¤ êµ¬ì¡° í…Œì´ë¸”ì„ ë§Œë“œëŠ” êµ¬ë¬¸
```sql
create table index_org_t ( a number, b varchar(10)
                         constraint index_org_t_pk primary key (a) )
organization index ;
```

```sql
-- ğŸ’¡ ì°¸ê³ : ì¼ë°˜ í…Œì´ë¸”ì€ `í™ êµ¬ì¡° í…Œì´ë¸”`ì´ë¼ê³  ë¶€ë¥¸ë‹¤.

create table heap_org_t ( a number, b varchar(10)
                        constraint index_org_t_pk primary key (a) )
organization heap ; -- ëŒ€ê°œ ìƒëµí•˜ì§€ë§Œ organization ì˜µì…˜ì„ ëª…ì‹œí•  ìˆ˜ë„ ìˆë‹¤.
```

## 2. ë°ì´í„° Insert ë°©ì‹
- ì¼ë°˜ í™ êµ¬ì¡° í…Œì´ë¸”
  - `ëœë¤ ë°©ì‹`: Freelistë¡œë¶€í„° í• ë‹¹ ë°›ì€ ë¸”ë¡ì— ì •í•´ì§„ ìˆœì„œ ì—†ì´ ë°ì´í„°ë¥¼ ì…ë ¥

> `Freelist`: ìƒˆë¡œìš´ ë ˆì½”ë“œë¥¼ ë„£ì„ í›„ë³´ ë¸”ë¡ë“¤ì˜ ëª©ë¡

- IOT(Index-Organization Table)
  - ì¸ë±ìŠ¤ êµ¬ì¡° í…Œì´ë¸”ì´ë¯€ë¡œ `ì •ë ¬ ìƒíƒœ`ë¥¼ ìœ ì§€í•˜ë©° ë°ì´í„°ë¥¼ `Insert`

## 3. í´ëŸ¬ìŠ¤í„°ë§ íŒ©í„°ì™€ì˜ ì—°ê´€ì„±
IOTëŠ” ì¸ìœ„ì ìœ¼ë¡œ í´ëŸ¬ìŠ¤í„°ë§ íŒ©í„°ë¥¼ ì¢‹ê²Œ ë§Œë“œëŠ” ë°©ë²• ì¤‘ í•˜ë‚˜ì´ë‹¤.
> `í´ëŸ¬ìŠ¤í„°ë§ íŒ©í„°`: ì¸ë±ìŠ¤ì˜ ìˆœì„œì™€ í…Œì´ë¸” í–‰ì˜ ë¬¼ë¦¬ì  ìˆœì„œê°€ ì–¼ë§ˆë‚˜ ì¼ì¹˜í•˜ëŠ”ì§€ ë‚˜íƒ€ë‚´ëŠ” ê°’
> - ê°’ì´ ë‚®ìœ¼ë©´ `ì½ê¸° íš¨ìœ¨ ì¢‹ìŒ`
> - ê°’ì´ ë†’ìœ¼ë©´ ì¸ë±ìŠ¤ ìˆœì„œì™€ í…Œì´ë¸” ë¸”ë¡ ìˆœì„œê°€ ì œë©‹ëŒ€ë¡œ í©ì–´ì ¸ ìˆìŒ -> `ëœë¤ ì•¡ì„¸ìŠ¤ê°€ ë§ì•„ì„œ ë¹„íš¨ìœ¨`

- IOT
  - ê°™ì€ ê°’ì„ ê°€ì§„ ë ˆì½”ë“œë“¤ì´ 100% ì •ë ¬ëœ ìƒíƒœë¡œ ëª¨ì—¬ ìˆìœ¼ë¯€ë¡œ ëœë¤ ì•¡ì„¸ìŠ¤ê°€ ì•„ë‹Œ `ì‹œí€€ì…œ ë°©ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì•¡ì„¸ìŠ¤í•œë‹¤.`
  - (`BETWEEN ì´ë‚˜ ë¶€ë“±í˜¸ ì¡°ê±´ìœ¼ë¡œ ë„“ì€ ë²”ìœ„ë¥¼ ì½ì„ ë•Œ ìœ ë¦¬í•˜ë‹¤.`)
  - ë°ì´í„° ì…ë ¥ê³¼ ì¡°íšŒ íŒ¨í„´ì´ ì„œë¡œ ë‹¤ë¥¸ í…Œì´ë¸”ì—ë„ ìœ ìš©í•˜ë‹¤.

### ë°ì´í„° ì…ë ¥ê³¼ ì¡°íšŒ íŒ¨í„´ì´ ì„œë¡œ ë‹¤ë¥¸ í…Œì´ë¸”ì˜ ì˜ˆì‹œ: ì˜ì—…ì‚¬ì›ì˜ ì—°(1ë…„) íŒë§¤ì‹¤ì  ì¡°íšŒ
- ì˜ì—…ì‚¬ì›ì€ 100ëª…ì´ë¼ê³  ê°€ì •
- í•œ ë¸”ë¡ì—ëŠ” ìµœëŒ€ 100ê°œì˜ ë ˆì½”ë“œê°€ ë‹´ê¸´ë‹¤ê³  ê°€ì •
  - ì¼ë³„ ì§‘ê³„ì´ë¯€ë¡œ ë§¤ì¼ í•˜ë‚˜ì˜ ë¸”ë¡ì´ ìƒì„±ë¨(`100ëª… -> 100 ë ˆì½”ë“œ`)
  - `[1ì¼ : 1ë¸”ë¡ ìƒì„±]` = `[1ë…„ : 365ë¸”ë¡ ìƒì„±]`

```sql
-- where ì¡°ê±´ì ˆ ì‚¬ì›ì˜ ì¼ë…„ ì´íŒë§¤ê¸ˆì•¡, í‰ê· íŒë§¤ê¸ˆì•¡ ì¡°íšŒ ì¿¼ë¦¬

select ì¼ì, sum(íŒë§¤ê¸ˆì•¡), avg(íŒë§¤ê¸ˆì•¡)
from   ì˜ì—…ì‹¤ì 
where  ì‚¬ë²ˆ = 'S1'
and    ì¼ì between '20250101' and '20251231'
group by ì¼ì
```

- ë§Œì•½ ìœ„ ì¿¼ë¦¬ì— ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤ë©´
  - ëœë¤ ì•¡ì„¸ìŠ¤ ë°©ì‹ìœ¼ë¡œ `365ê°œì˜ í…Œì´ë¸” ë¸”ë¡ì„ ì½ì–´ì•¼í•œë‹¤.`
    - í•˜ë£¨ë§ˆë‹¤ í…Œì´ë¸” ë¸”ë¡ì´ ìƒì„±ëì—ˆê¸° ë•Œë¬¸
    - ì¦‰, `í´ëŸ¬ìŠ¤í„°ë§ íŒ©í„°ê°€ ë§¤ìš° ì•ˆì¢‹ìœ¼ë¯€ë¡œ ì¡°íšŒ ê±´ìˆ˜ë§Œí¼ ë¸”ë¡ I/Oê°€ ë°œìƒí•œë‹¤.`


ë§Œì•½ IOTë¥¼ ì•„ë˜ì™€ ê°™ì´ `ì‚¬ë²ˆì´ ì²« ë²ˆì§¸ ì •ë ¬ ê¸°ì¤€ì´ ë˜ë„ë¡` êµ¬ì„±í•´ì¤€ë‹¤ë©´?
```sql
create table ì˜ì—…ì‹¤ì  ( ì‚¬ë²ˆ varchar2(5), ì¼ì varchar2(8) ), ...
        , contraint ì˜ì—…ì‹¤ì _pk primary key (ì‚¬ë²ˆ, ì¼ì) )
organization index ;
```
- `4ê°œì˜ í…Œì´ë¸” ë¸”ë¡ë§Œ ì½ê³  ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤!`
  - í•˜ë‚˜ì˜ ì‚¬ì›ë‹¹ 365 ë ˆì½”ë“œ í•„ìš” = í•œ ë¸”ë¡(100ê°œ ë ˆì½”ë“œ) * 4 í•„ìš”

---
# 3.1.7 í´ëŸ¬ìŠ¤í„° í…Œì´ë¸”
í´ëŸ¬ìŠ¤í„° í…Œì´ë¸”ì—ëŠ” `ì¸ë±ìŠ¤ í´ëŸ¬ìŠ¤í„° í…Œì´ë¸”`ê³¼ `í•´ì‹œ í´ëŸ¬ìŠ¤í„° íƒœì´ë¸”` ë‘ ê°€ì§€ê°€ ìˆë‹¤.

## ì¸ë±ìŠ¤ í´ëŸ¬ìŠ¤í„° í…Œì´ë¸”

í´ëŸ¬ìŠ¤í„° í‚¤ ê°’ì´ ê°™ì€ ë ˆì½”ë“œë¥¼ `í•œ ë¸”ë¡`ì— ëª¨ì•„ì„œ ì €ì¥í•˜ëŠ” êµ¬ì¡°ë‹¤.

![ê·¸ë¦¼_3-12.png](image%2F%EA%B7%B8%EB%A6%BC_3-12.png)

- í•œ ë¸”ë¡ì— ë‹´ì„ ìˆ˜ ì—†ì„ ë•ŒëŠ” ìƒˆë¡œìš´ ë¸”ë¡ì„ í• ë‹¹í•´ì„œ `í´ëŸ¬ìŠ¤í„° ì²´ì¸`ìœ¼ë¡œ ì—°ê²°í•œë‹¤.
- `ì—¬ëŸ¬ í…Œì´ë¸” ë ˆì½”ë“œë¥¼ ê°™ì€ ë¸”ë¡ì— ì €ì¥`í•  ìˆ˜ë„ ìˆë‹¤. ì´ë¥¼ `ë‹¤ì¤‘ í…Œì´ë¸” í´ëŸ¬ìŠ¤í„°`ë¼ê³  ë¶€ë¥¸ë‹¤.

> ğŸ’¡ ë‹¤ì¤‘ í…Œì´ë¸” í´ëŸ¬ìŠ¤í„° ì˜ˆì‹œ
> 
> ë¶€ì„œ(`Dept`) í…Œì´ë¸”ê³¼ ì§ì›(`Emp`) í…Œì´ë¸”
> - ë¶€ì„œ: ë¶€ì„œë²ˆí˜¸, ë¶€ì„œëª…
> - ì§ì›: ë¶€ì„œë²ˆí˜¸, ì‚¬ì›ë²ˆí˜¸, ì´ë¦„
> 
> â—ï¸ì¼ë°˜í…Œì´ë¸”ì˜ ê²½ìš°ë¼ë©´? - ê° í…Œì´ë¸” ë³„ë¡œ ë¸”ë¡ì„ ë”°ë¡œ ì €ì¥
> 
> ë§Œì•½ ë¶€ì„œì™€ ì§ì›ì„ ìì£¼ JOIN í•œë‹¤ë©´? = `ë¶€ì„œ ë¸”ë¡ ì¡°íšŒ + ì§ì› ë¸”ë¡ ì¡°íšŒ` = `I/O 2ë²ˆ`
> 
> â—ï¸ë‹¤ì¤‘ í…Œì´ë¸” í´ëŸ¬ìŠ¤í„°ë¼ë©´? 
> 
> ë¶€ì„œì™€ ì§ì›ì„ ë¶€ì„œë²ˆí˜¸ ê¸°ì¤€ìœ¼ë¡œ ê°™ì€ ë¸”ë¡ìœ¼ë¡œ ë¬¶ì–´ì„œ í•œ ë²ˆì˜ I/Oë¡œ ì¡°íšŒ ê°€ëŠ¥

### ì¸ë±ìŠ¤ í´ëŸ¬ìŠ¤í„° í…Œì´ë¸” êµ¬ì„±
```sql
-- í´ëŸ¬ìŠ¤í„° ìƒì„±
create cluster c_dept# ( deptno number(2) ) index ;
       
-- â—ï¸í•„ìˆ˜: í´ëŸ¬ìŠ¤í„° ì¸ë±ìŠ¤ ì •ì˜í•˜ê¸°(í´ëŸ¬ìŠ¤í„° í…Œì´ë¸” ìƒì„± ì „ì— ë¨¼ì €)
create index c_dept#_idx on cluster c_dept#;

-- í´ëŸ¬ìŠ¤í„° í…Œì´ë¸” ìƒì„±
create table dept (
      deptno number(2)  not null
    , dname  varchar2(14) not null
    , loc    varchar2(13) 
  )
cluster c_dept#( deptno );
```

### í´ëŸ¬ìŠ¤í„° ì¸ë±ìŠ¤ì˜ íŠ¹ì§•
- í´ëŸ¬ìŠ¤í„° ì¸ë±ìŠ¤ëŠ” í…Œì´ë¸” ë ˆì½”ë“œë¥¼ ì¼ì¼ì´ ê°€ë¦¬í‚¤ì§€ ì•Šê³  `í•´ë‹¹ í‚¤ ê°’ì„ ì €ì¥í•˜ëŠ” ì²« ë²ˆì§¸ ë°ì´í„° ë¸”ë¡ì„ ê°€ë¦¬í‚¨ë‹¤.`

![ê·¸ë¦¼_3-13.png](image%2F%EA%B7%B8%EB%A6%BC_3-13.png)

- ì¦‰, `ì¼ë°˜ í…Œì´ë¸”ì— ìƒì„±í•œ ì¸ë±ìŠ¤ ë ˆì½”ë“œëŠ” í…Œì´ë¸” ë ˆì½”ë“œì™€ 1:1` ëŒ€ì‘ ê´€ê³„ë¥¼ ê°–ì§€ë§Œ, `í´ëŸ¬ìŠ¤í„° ì¸ë±ìŠ¤ëŠ” í…Œì´ë¸” ë ˆì½”ë“œì™€ 1:M` ê´€ê³„ì´ë‹¤.
- ë”°ë¼ì„œ í´ëŸ¬ìŠ¤í„° ì¸ë±ìŠ¤ì˜ í‚¤ ê°’ì€ í•­ìƒ `Unique` í•˜ë‹¤.
- í´ëŸ¬ìŠ¤í„° ì¸ë±ìŠ¤ë¥¼ ìŠ¤ìº”í•˜ë©´ì„œ ê°’ì„ ì°¾ì„ ë•ŒëŠ” `ëœë¤ ì•¡ì„¸ìŠ¤ê°€ ê°’ í•˜ë‚˜ë‹¹ í•œ ë²ˆì”© ë°œìƒí•œë‹¤.`
  - (í´ëŸ¬ìŠ¤í„° ì²´ì¸ì„ ìŠ¤ìº”í•˜ë©´ì„œ ë°œìƒí•˜ëŠ” ëœë¤ ì•¡ì„¸ìŠ¤ëŠ” ì œì™¸í•œë‹¤ê³  ê°€ì •í–ˆë‹¤.)
- í´ëŸ¬ìŠ¤í„°ì— ë„ë‹¬í•´ì„œëŠ” `ì‹œí€€ì…œ ë°©ì‹`ìœ¼ë¡œ ìŠ¤ìº”í•˜ê¸° ë•Œë¬¸ì— `ë„“ì€ ë²”ìœ„ ì¡°íšŒì—ì„œë„ ë¹„íš¨ìœ¨ì´ ì—†ë‹¤ëŠ” ê²ƒì´ í•µì‹¬ ì›ë¦¬`ì´ë‹¤.

### ì‹¤í–‰ê³„íš
```sql
select * from dept where deptno = :deptno;

-- ë§ˆì§€ë§‰ ì¤„ì´ í•µì‹¬
0   SELECT STATEMENT Optimizer=ALL_ROWS (Cost=1 Card=1 Bytes=30)
1 0   TABLE ACCESS (CLUSTER) OF 'DEPT' (CLUSTER) (Cost=1 Card=1 Bytes=30)
2 1     INDEX (UNIQUE SCAN) OF 'C_DEPT#_IDX' (INDEX (CLUSTER)) (Cost=1 Card=1)
    
-- TABLE ACCESS (CLUSTER) OF 'DEPT': DEPT í…Œì´ë¸”ì´ í´ëŸ¬ìŠ¤í„° í…Œì´ë¸”ì´ë©°, í´ëŸ¬ìŠ¤í„° ë¸”ë¡ì„ ì½ì–´ì„œ ë ˆì½”ë“œë¥¼ ê°€ì ¸ì˜´
-- INDEX (UNIQUE SCAN) OF 'C_DEPT#_IDX' (INDEX (CLUSTER)): í´ëŸ¬ìŠ¤í„° ì¸ë±ìŠ¤ ì‚¬ìš©, ê³ ìœ  í‚¤ ê²€ìƒ‰
-- ê²°êµ­ B+Treeì—ì„œ ì…ë ¥ë°›ì€ ë¶€ì„œë²ˆí˜¸ë¥¼ ë¹ ë¥´ê²Œ ì°¾ê³  leafì—ì„œ ë¸”ë¡ ì£¼ì†Œë¥¼ ê°€ì ¸ì˜¨ í›„ í´ëŸ¬ìŠ¤í„° ë¸”ë¡ì„ ì½ëŠ”ë‹¤.
```

> ğŸ’¡ ì°¸ê³ 
> 
> ì±…ì— `í´ëŸ¬ìŠ¤í„° ì¸ë±ìŠ¤ë„ ì¼ë°˜ B*Tree ì¸ë±ìŠ¤ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, ...` ì´ë¼ê³  ì í˜€ìˆë‹¤.
> 
> ê·¼ë° ì°¾ì•„ë³´ë‹ˆ ìš”ì¦˜ì€ ë‹¤ B+Tree ì¸ ê²ƒ ê°™ë‹¤.(ìµœì§„ì˜ í”¼ì…œ)

---
## í•´ì‹œ í´ëŸ¬ìŠ¤í„° í…Œì´ë¸”
ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  `í•´ì‹œ ì•Œê³ ë¦¬ì¦˜`ì„ ì‚¬ìš©í•˜ì—¬ í´ëŸ¬ìŠ¤í„°ë¥¼ ì°¾ì•„ê°„ë‹¤ëŠ” ì ë§Œ ë‹¤ë¥´ë‹¤.

![ê·¸ë¦¼_3-14.png](image%2F%EA%B7%B8%EB%A6%BC_3-14.png)

### í•´ì‹œ í´ëŸ¬ìŠ¤í„° í…Œì´ë¸” êµ¬ì„±
```sql
-- í´ëŸ¬ìŠ¤í„° ìƒì„±
create cluster c_dept# ( deptno number(2) ) hashkeys 4;
```
- `hashkeys 4`ì—ì„œ `4`ëŠ” ë²„í‚· ìˆ˜


```sql
-- í´ëŸ¬ìŠ¤í„° í…Œì´ë¸” ìƒì„±
create table dept (
      deptno number(2)  not null
    , dname  varchar2(14) not null
    , loc    varchar2(13) 
  )
cluster c_dept#( deptno );
```

### ì‹¤í–‰ê³„íš
```sql
select * from dept where deptno = :deptno;

-- ë§ˆì§€ë§‰ ì¤„ì´ í•µì‹¬
0   SELECT STATEMENT Optimizer=ALL_ROWS (Cost=1 Card=1 Bytes=30)
1 0   TABLE ACCESS (HASH) OF 'DEPT' (CLUSTER (HASH)) (Cost=1 Card=1 Bytes=30) 
```